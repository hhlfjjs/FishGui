<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=gb2312">
<title>FishGUI: FG_MsgMap.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 制作者 Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">首页</a> | <a class="qindex" href="modules.html">模块</a> | <a class="qindex" href="hierarchy.html">类继承关系</a> | <a class="qindex" href="classes.html">按字典顺序排序的列表</a> | <a class="qindex" href="annotated.html">组合类型列表</a> | <a class="qindex" href="files.html">文件列表</a> | <a class="qindex" href="functions.html">组合类型成员</a> | <a class="qindex" href="globals.html">文件成员</a></div>
<h1>FG_MsgMap.h</h1><a href="FG__MsgMap_8h.html">浏览该文件的文档。</a><div class="fragment"><pre>00001 <span class="comment">/*--------------------------------------------------------------------------</span>
00002 <span class="comment"></span>
00003 <span class="comment">        FG_MsgMap.h - 消息映射表结构以及宏定义的头文件</span>
00004 <span class="comment"></span>
00005 <span class="comment">        本程序是FishGUI软件的一部分</span>
00006 <span class="comment"></span>
00007 <span class="comment">        版权所有 (C) 2003,2004 王咏武</span>
00008 <span class="comment">        http://www.contextfree.net/wangyw/</span>
00009 <span class="comment"></span>
00010 <span class="comment">----------------------------------------------------------------------------</span>
00011 <span class="comment"></span>
00012 <span class="comment">        作者对 FishGUI 软件及其所有源代码授权如下：</span>
00013 <span class="comment"></span>
00014 <span class="comment">        允许任何个人、组织、机构、企业无偿获得、修改、使用、重新发布 FishGUI 软</span>
00015 <span class="comment">        件及其源代码，或按照有偿或者无偿的方式发行基于 FishGUI 源代码的全部或部</span>
00016 <span class="comment">        分内容开发的软件产品，――但行使以上权利时，须遵守以下约定：</span>
00017 <span class="comment"></span>
00018 <span class="comment">        1、重新发布 FishGUI 软件及其源代码时，不得隐去软件及其源代码中原有的版</span>
00019 <span class="comment">           权信息和开发者标识。</span>
00020 <span class="comment"></span>
00021 <span class="comment">        2、发行基于 FishGUI 源代码的全部或部分内容开发的软件产品时，必须在产品</span>
00022 <span class="comment">           的显著位置标明以下字样：</span>
00023 <span class="comment"></span>
00024 <span class="comment">           【本产品的一部分功能是基于王咏武在 FishGUI 软件中的工作完成的】</span>
00025 <span class="comment"></span>
00026 <span class="comment">        3、在正式出版物中引用 FishGUI 的文档、源代码或注释内容的，应注明软件的</span>
00027 <span class="comment">           原作者为王咏武。</span>
00028 <span class="comment"></span>
00029 <span class="comment">--------------------------------------------------------------------------*/</span>
00038 <span class="preprocessor">#ifndef FG_MSGMAP_H_HEADER_INCLUDED_C0AD453B</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#define FG_MSGMAP_H_HEADER_INCLUDED_C0AD453B</span>
00040 <span class="preprocessor"></span>
00041 <span class="preprocessor">#include "../Utility/FG_Utility.h"</span>
00042 <span class="preprocessor">#include "../OSAdaptor/FG_OSAdaptor.h"</span>
00043 
<a name="l00048"></a><a class="code" href="group__MsgMap__Define.html#ga0">00048</a> <span class="preprocessor">#define DECLARE_MESSAGE_MAP()                                                           \</span>
00049 <span class="preprocessor">private:                                                                                \</span>
00050 <span class="preprocessor">    static const FG_MSGMAP_ENTRY m_MsgEntries[];                                        \</span>
00051 <span class="preprocessor">protected:                                                                              \</span>
00052 <span class="preprocessor">    static const FG_MSGMAP m_MsgMap;                                                    \</span>
00053 <span class="preprocessor">    virtual const FG_MSGMAP * GetMessageMap() const;                                    \</span>
00054 <span class="preprocessor"></span>
00055 <span class="preprocessor"></span>
<a name="l00056"></a><a class="code" href="group__MsgMap__Define.html#ga1">00056</a> <span class="preprocessor">#define BEGIN_MESSAGE_MAP(theClass, baseClass)                                          \</span>
00057 <span class="preprocessor">    const FG_MSGMAP * theClass::GetMessageMap() const                                   \</span>
00058 <span class="preprocessor">        { return &amp; theClass::m_MsgMap; }                                                \</span>
00059 <span class="preprocessor">    const FG_MSGMAP theClass::m_MsgMap =                                                \</span>
00060 <span class="preprocessor">        { &amp; baseClass::m_MsgMap, &amp; theClass::m_MsgEntries[0] };                         \</span>
00061 <span class="preprocessor">    const FG_MSGMAP_ENTRY theClass::m_MsgEntries[] =                                    \</span>
00062 <span class="preprocessor">    {                                                                                   \</span>
00063 <span class="preprocessor"></span>
00064 <span class="preprocessor"></span>
<a name="l00065"></a><a class="code" href="group__MsgMap__Define.html#ga2">00065</a> <span class="preprocessor">#define ON_DRAW(msgCallback)                                                            \</span>
00066 <span class="preprocessor">        { FG_MSG_DRAW, 0, 0, (FG_PMSG_vv)(FG_PMSG_vd)&amp; msgCallback },                   \</span>
00067 <span class="preprocessor"></span>
00068 <span class="preprocessor"></span>
<a name="l00069"></a><a class="code" href="group__MsgMap__Define.html#ga3">00069</a> <span class="preprocessor">#define ON_DRAWREQUEST(msgCallback)                                                     \</span>
00070 <span class="preprocessor">        { FG_MSG_DRAW_REQUEST, 0, 0, (FG_PMSG_vv)(FG_PMSG_vm)&amp; msgCallback },           \</span>
00071 <span class="preprocessor"></span>
00072 <span class="preprocessor"></span>
<a name="l00073"></a><a class="code" href="group__MsgMap__Define.html#ga4">00073</a> <span class="preprocessor">#define ON_KEY(msgCallback)                                                             \</span>
00074 <span class="preprocessor">        { FG_MSG_KEY, 0, 0, (FG_PMSG_vv)(FG_PMSG_bm)&amp; msgCallback },                    \</span>
00075 <span class="preprocessor"></span>
00076 <span class="preprocessor"></span>
<a name="l00077"></a><a class="code" href="group__MsgMap__Define.html#ga5">00077</a> <span class="preprocessor">#define ON_KEYDOWN(msgCallback)                                                         \</span>
00078 <span class="preprocessor">        { FG_MSG_KEY, FKS_DOWN, 0, (FG_PMSG_vv)(FG_PMSG_bm)&amp; msgCallback },             \</span>
00079 <span class="preprocessor"></span>
00080 <span class="preprocessor"></span>
<a name="l00081"></a><a class="code" href="group__MsgMap__Define.html#ga6">00081</a> <span class="preprocessor">#define ON_KEYUP(msgCallback)                                                           \</span>
00082 <span class="preprocessor">        { FG_MSG_KEY, FKS_UP, 0, (FG_PMSG_vv)(FG_PMSG_bm)&amp; msgCallback },               \</span>
00083 <span class="preprocessor"></span>
00084 <span class="preprocessor"></span>
<a name="l00085"></a><a class="code" href="group__MsgMap__Define.html#ga7">00085</a> <span class="preprocessor">#define ON_MOUSE(msgCallback)                                                           \</span>
00086 <span class="preprocessor">        { FG_MSG_MOUSE, 0, 0, (FG_PMSG_vv)(FG_PMSG_bm)&amp; msgCallback },                  \</span>
00087 <span class="preprocessor"></span>
00088 <span class="preprocessor"></span>
<a name="l00089"></a><a class="code" href="group__MsgMap__Define.html#ga8">00089</a> <span class="preprocessor">#define ON_LBUTTONDOWN(msgCallback)                                                     \</span>
00090 <span class="preprocessor">        { FG_MSG_MOUSE, FMS_LBUTTONDOWN, 0, (FG_PMSG_vv)(FG_PMSG_bm)&amp; msgCallback },    \</span>
00091 <span class="preprocessor"></span>
00092 <span class="preprocessor"></span>
<a name="l00093"></a><a class="code" href="group__MsgMap__Define.html#ga9">00093</a> <span class="preprocessor">#define ON_LBUTTONUP(msgCallback)                                                       \</span>
00094 <span class="preprocessor">        { FG_MSG_MOUSE, FMS_LBUTTONUP, 0, (FG_PMSG_vv)(FG_PMSG_bm)&amp; msgCallback },      \</span>
00095 <span class="preprocessor"></span>
00096 <span class="preprocessor"></span>
<a name="l00100"></a><a class="code" href="group__MsgMap__Define.html#ga10">00100</a> <span class="preprocessor">#define ON_TIMER(timerID, msgCallback)                                                  \</span>
00101 <span class="preprocessor">        { FG_MSG_TIMER, timerID, 0, (FG_PMSG_vv)&amp; msgCallback },                        \</span>
00102 <span class="preprocessor"></span>
00103 <span class="preprocessor"></span>
<a name="l00104"></a><a class="code" href="group__MsgMap__Define.html#ga11">00104</a> <span class="preprocessor">#define ON_FOCUS(msgCallback)                                                           \</span>
00105 <span class="preprocessor">        { FG_MSG_FOCUS, 0, 0, (FG_PMSG_vv)(FG_PMSG_vm)&amp; msgCallback },                  \</span>
00106 <span class="preprocessor"></span>
00107 <span class="preprocessor"></span>
<a name="l00111"></a><a class="code" href="group__MsgMap__Define.html#ga12">00111</a> <span class="preprocessor">#define ON_NOTIFY(notifyID, msgCallback)                                                \</span>
00112 <span class="preprocessor">        { FG_MSG_NOTIFY, notifyID, 0, (FG_PMSG_vv)(FG_PMSG_vm)&amp; msgCallback },          \</span>
00113 <span class="preprocessor"></span>
00114 <span class="preprocessor"></span>
<a name="l00118"></a><a class="code" href="group__MsgMap__Define.html#ga13">00118</a> <span class="preprocessor">#define ON_ID_NOTIFY(notifyID, id, msgCallback)                                         \</span>
00119 <span class="preprocessor">        { FG_MSG_NOTIFY, notifyID, id, (FG_PMSG_vv)&amp; msgCallback },                     \</span>
00120 <span class="preprocessor"></span>
00121 <span class="preprocessor"></span>
<a name="l00122"></a><a class="code" href="group__MsgMap__Define.html#ga14">00122</a> <span class="preprocessor">#define ON_UPDATE_VIEW(msgCallback)                                                     \</span>
00123 <span class="preprocessor">        { FG_MSG_UPDATE_VIEW, 0, 0, (FG_PMSG_vv)&amp; msgCallback },                        \</span>
00124 <span class="preprocessor"></span>
00125 <span class="preprocessor"></span>
<a name="l00126"></a><a class="code" href="group__MsgMap__Define.html#ga15">00126</a> <span class="preprocessor">#define END_MESSAGE_MAP()                                                               \</span>
00127 <span class="preprocessor">        { 0, 0, 0, (FG_PMSG_vv)NULL }                                                   \</span>
00128 <span class="preprocessor">    };                                                                                  \</span>
00129 <span class="preprocessor"></span>
00130 <span class="preprocessor"></span>
00132 <span class="keyword">class </span><a class="code" href="classFG__Object.html">FG_Object</a>;
00133 <span class="keyword">struct </span><a class="code" href="structFG__Message.html">FG_Message</a>;
00134 
00138 <span class="comment">//##ModelId=3F58381F03A7</span>
<a name="l00146"></a><a class="code" href="group__MsgHandler__Type.html#ga0">00146</a> <span class="comment"></span><span class="keyword">typedef</span> void (FG_Object::* <a class="code" href="group__MsgHandler__Type.html#ga0">FG_PMSG_vv</a>)(<span class="keywordtype">void</span>);
00147 
00148 <span class="comment">//##ModelId=3F6193A7005C</span>
<a name="l00154"></a><a class="code" href="group__MsgHandler__Type.html#ga1">00154</a> <span class="comment"></span><span class="keyword">typedef</span> void (FG_Object::* <a class="code" href="group__MsgHandler__Type.html#ga1">FG_PMSG_vd</a>)(<a class="code" href="classFG__OSAdaptor.html">FG_OSAdaptor</a> * pAdaptor);
00155 
00156 <span class="comment">//##ModelId=3F5B47040163</span>
<a name="l00164"></a><a class="code" href="group__MsgHandler__Type.html#ga2">00164</a> <span class="comment"></span><span class="keyword">typedef</span> void (FG_Object::* <a class="code" href="group__MsgHandler__Type.html#ga2">FG_PMSG_vm</a>)(<a class="code" href="structFG__Message.html">FG_Message</a> * pMsg);
00165 
00166 <span class="comment">//##ModelId=3F6167B501F0</span>
<a name="l00177"></a><a class="code" href="group__MsgHandler__Type.html#ga3">00177</a> <span class="comment"></span><span class="keyword">typedef</span> bool (FG_Object::* <a class="code" href="group__MsgHandler__Type.html#ga3">FG_PMSG_bm</a>)(<a class="code" href="structFG__Message.html">FG_Message</a> * pMsg);
00178 
00181 <span class="comment">//##ModelId=3F58381F0375</span>
<a name="l00186"></a><a class="code" href="structFG__MSGMAP__ENTRY.html">00186</a> <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structFG__MSGMAP__ENTRY.html">FG_MSGMAP_ENTRY</a>
00187 {
00188     <span class="comment">//##ModelId=3F6167B60012</span>
<a name="l00189"></a><a class="code" href="structFG__MSGMAP__ENTRY.html#o0">00189</a>     <a class="code" href="group__Utility.html#ga1">WORD</a>        <a class="code" href="structFG__MSGMAP__ENTRY.html#o0">m_MsgType</a>;              
00191     <span class="comment">//##ModelId=3F5B584A00E0</span>
<a name="l00196"></a><a class="code" href="structFG__MSGMAP__ENTRY.html#o1">00196</a> <span class="comment"></span>    <a class="code" href="group__Utility.html#ga1">WORD</a>        <a class="code" href="structFG__MSGMAP__ENTRY.html#o1">m_wData</a>;
00197     
00198     <span class="comment">//##ModelId=3F6167B60026</span>
<a name="l00199"></a><a class="code" href="structFG__MSGMAP__ENTRY.html#o2">00199</a>     <a class="code" href="group__Utility.html#ga1">WORD</a>        <a class="code" href="structFG__MSGMAP__ENTRY.html#o2">m_wID</a>;                  
00201     <span class="comment">//##ModelId=3F5838210044</span>
<a name="l00202"></a><a class="code" href="structFG__MSGMAP__ENTRY.html#o3">00202</a>     <a class="code" href="group__MsgHandler__Type.html#ga0">FG_PMSG_vv</a>  <a class="code" href="structFG__MSGMAP__ENTRY.html#o3">m_Callback</a>;             
00203 };
00204 
00205 <span class="comment">//##ModelId=3F58381F0326</span>
<a name="l00210"></a><a class="code" href="structFG__MSGMAP.html">00210</a> <span class="comment"></span><span class="keyword">struct </span><a class="code" href="structFG__MSGMAP.html">FG_MSGMAP</a>
00211 {
00212     <span class="comment">//##ModelId=3F583820024A</span>
<a name="l00213"></a><a class="code" href="structFG__MSGMAP.html#o0">00213</a>     <span class="keyword">const</span> <a class="code" href="structFG__MSGMAP.html">FG_MSGMAP</a> * <a class="code" href="structFG__MSGMAP.html#o0">m_pBaseMsgMap</a>;    
00214     <span class="comment">//##ModelId=3F583820027C</span>
<a name="l00215"></a><a class="code" href="structFG__MSGMAP.html#o1">00215</a>     <span class="keyword">const</span> <a class="code" href="structFG__MSGMAP__ENTRY.html">FG_MSGMAP_ENTRY</a> * <a class="code" href="structFG__MSGMAP.html#o1">m_pEntry</a>;   
00217     <span class="comment">//##ModelId=3F584C9400FF</span>
00226 <span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="structFG__MSGMAP__ENTRY.html">FG_MSGMAP_ENTRY</a> * <a class="code" href="structFG__MSGMAP.html#a0">FindMsgCallback</a>(<span class="keyword">const</span> <a class="code" href="group__Utility.html#ga1">WORD</a> type, <span class="keyword">const</span> <a class="code" href="group__Utility.html#ga1">WORD</a> data, <span class="keyword">const</span> <a class="code" href="group__Utility.html#ga1">WORD</a> <span class="keywordtype">id</span>) <span class="keyword">const</span>;
00227 };
00228 
00229 <span class="preprocessor">#endif </span><span class="comment">/* FG_KEYMAP_H_HEADER_INCLUDED_C0AD453B */</span>
00230 
</pre></div><hr><center>由 DoxyGen 1.3.6 于 Wed Jun 9 22:34:40 2004 生成<br>版权所有 (C) 2003,2004 王咏武</body></html>
